(()=>{"use strict";function e(n="asc",t){const o=new XMLHttpRequest;let i=new URL(window.location.href+"dir");i.searchParams.set("root",t),i.searchParams.set("sort",n),o.open("GET",i.toString()),o.responseType="json",o.send(),o.onload=function(){!function(n,t){200==t.status&&null!=t.response?function(n,t){const o=document.getElementById("table-body"),i=document.getElementById("back-button"),s=document.getElementById("ascButton"),c=document.getElementById("descButton");if(!(o&&i&&s&&c))return;i.onclick=function(){""!==t?e("asc",t=t.substring(0,t.slice(0,-1).lastIndexOf("/")+1)):alert("Ошибка. Задана неверная директория")},s.onclick=function(){e("asc",t)},c.onclick=function(){e("desc",t)},o.innerHTML="";let r=1;n.forEach((n=>{if(0==n.deepIndex){let i=o.insertRow(),s=i.insertCell(0),c=i.insertCell(1),l=i.insertCell(2),d=i.insertCell(3);s.innerHTML=r.toString(),c.innerHTML=n.fileName,l.innerHTML=function(e){const n=1048576,t=1073741824;return e<1024?`${e} B`:e<n?`${(e/1024).toFixed(2)} KB`:e<t?`${(e/n).toFixed(2)} MB`:`${(e/t).toFixed(2)} GB`}(n.fileSize),d.innerHTML=n.fileType,r+=1,"folder"==n.fileType&&c.addEventListener("click",(function(){!function(n,t){e("asc",t+=n+"/")}(n.fileName,t)}))}}))}(t.response,n):alert("Ошибка при получении запроса: "+t.status)}(t,o)}}document.addEventListener("DOMContentLoaded",(function(){!function(n="asc"){e(n,"/home/")}()}))})();